(this["webpackJsonpbetter-pathfinding-visualizer"]=this["webpackJsonpbetter-pathfinding-visualizer"]||[]).push([[0],{75:function(t,e,i){},76:function(t,e,i){},77:function(t,e,i){},85:function(t,e,i){"use strict";i.r(e);var s,a=i(0),r=i.n(a),n=i(29),l=i.n(n),h=(i(75),i(76),i(21)),o=i(19),u=i(63),c=i(61),d=i(38),f=i(39);i(77);function v(t,e,i){var s=[];e.distance=0;for(var a=function(t){var e,i=[],s=Object(o.a)(t);try{for(s.s();!(e=s.n()).done;){var a,r=e.value,n=Object(o.a)(r);try{for(n.s();!(a=n.n()).done;){var l=a.value;i.push(l)}}catch(h){n.e(h)}finally{n.f()}}}catch(h){s.e(h)}finally{s.f()}return i}(t);a.length;){g(a);var r=a.shift();if(r.row===i.row&&r.col===i.col)return s;if(!r.isWall){if(r.distance===1/0)return s;r.isVisited=!0,s.push(r),y(r,t)}}}function g(t){t.sort((function(t,e){return t.distance-e.distance}))}function y(t,e){var i,s=function(t,e){var i=[],s=t.col,a=t.row;a>0&&i.push(e[a-1][s]);a<e.length-1&&i.push(e[a+1][s]);s>0&&i.push(e[a][s-1]);s<e[0].length-1&&i.push(e[a][s+1]);return i.filter((function(t){return!t.isVisited}))}(t,e),a=Object(o.a)(s);try{for(a.s();!(i=a.n()).done;){var r=i.value;r.distance=t.distance+1,r.prevNode=t}}catch(n){a.e(n)}finally{a.f()}}function b(t){for(var e=[],i=t;null!==i;)e.unshift(i),i=i.prevNode;return e}function w(t,e,i){if(!e||!i||e===i)return!1;var s=[],a=[];for(e.distance=0,s.push(e);0!==s.length;){s.sort((function(t,e){return t.totalDistance-e.totalDistance}));var r=s.shift();if(r.isVisited=!0,a.push(r),r===i)return a;var n,l=j(r,t),h=Object(o.a)(l);try{for(h.s();!(n=h.n()).done;){var u=n.value,c=r.distance+1;x(u,s)?(s.unshift(u),u.distance=c,u.totalDistance=m(u,i),u.prevNode=r):c<u.distance&&(u.distance=c,u.totalDistance=m(u,i),u.prevNode=r)}}catch(d){h.e(d)}finally{h.f()}}return a}function j(t,e){var i=[],s=t.col,a=t.row;return 0!==a&&i.push(e[a-1][s]),s!==e[0].length-1&&i.push(e[a][s+1]),a!==e.length-1&&i.push(e[a+1][s]),0!==s&&i.push(e[a][s-1]),i.filter((function(t){return!t.isWall&&!t.isVisited}))}function m(t,e){return Math.abs(t.row-e.row)+Math.abs(t.col-e.col)}function x(t,e){var i,s=Object(o.a)(e);try{for(s.s();!(i=s.n()).done;){var a=i.value;if(a.row===t.row&&a.col===t.col)return!1}}catch(r){s.e(r)}finally{s.f()}return!0}function O(t){for(var e=[],i=t;null!==i;)e.unshift(i),i=i.prevNode;return e}function p(t,e,i){if(!e||!i||e===i)return!1;var a=S(t.length),r=S(t[0].length);return s=[],k(a,r,e,i),s}function S(t){for(var e=[],i=0;i<t;i++)e.push(i);return e}function k(t,e,i,s){var a,r;t.length<2||e.length<2||(t.length>e.length&&(a=0,r=C(t)),t.length<=e.length&&(a=1,r=C(e)),0===a?(M(a,r,t,e,i,s),k(t.slice(0,t.indexOf(r)),e,i,s),k(t.slice(t.indexOf(r)+1),e,i,s)):(M(a,r,t,e,i,s),k(t,e.slice(0,e.indexOf(r)),i,s),k(t,e.slice(e.indexOf(r)+1),i,s)))}function C(t){var e=t.length-1,i=Math.floor(Math.random()*(e/2))+Math.floor(Math.random()*(e/2));return i%2===0&&(i===e?i-=1:i+=1),t[i]}function M(t,e,i,a,r,n){var l=!1,h=[];if(0===t){if(2===a.length)return;var u,c=Object(o.a)(a);try{for(c.s();!(u=c.n()).done;){var d=u.value;d===r.row&&e===r.col||e===n.row&&d===n.col?l=!0:h.push([d,e])}}catch(j){c.e(j)}finally{c.f()}}else{if(2===i.length)return;var f,v=Object(o.a)(i);try{for(v.s();!(f=v.n()).done;){var g=f.value;e===r.row&&g===r.col||g===n.row&&e===n.col?l=!0:h.push([e,g])}}catch(j){v.e(j)}finally{v.f()}}l||h.splice(function(t){var e=Math.floor(Math.random()*(t/2))+Math.floor(Math.random()*(t/2));e%2!==0&&(e===t?e-=1:e+=1);return e}(h.length),1);for(var y=0,b=h;y<b.length;y++){var w=b[y];s.push(w)}}i(78);var F,W,z=i(45),D=i.n(z),P=i(123),R=i(124),T=i(120),A=i(122),G=i(126),I=i(127),V=i(2),N=29,B=$(),q=_(),L=5,E=5,U=20,Y=5,J=[],H=5,X=0,K={x:0,y:0},Q=!1,Z=[];function $(){for(var t=0,e=0;t%2===0;)t=Math.floor(window.innerWidth/N)-e,e++;return t*N}function _(){for(var t=0,e=0;t%2===0;)t=Math.floor(.85*window.innerHeight/N)-e,e++;return t*N}var tt=function(){function t(e,i,s,a,r,n){Object(d.a)(this,t),this.x=e,this.y=i,this.width=s,this.height=a,this.radius=r,this.color="Black",this.time=0,this.gradient=n}return Object(f.a)(t,[{key:"draw",value:function(t){this.time+=t,this.frame=Math.floor(this.time)/847,W.clearRect(this.x,this.y,this.width,this.height),W.fillStyle="#"+this.gradient.colourAt(this.frame),W.beginPath(),W.moveTo(this.x+this.radius,this.y),W.lineTo(this.x+this.width-this.radius,this.y),W.quadraticCurveTo(this.x+this.width,this.y,this.x+this.width,this.y+this.radius),W.lineTo(this.x+this.width,this.y+this.height-this.radius),W.quadraticCurveTo(this.x+this.width,this.y+this.height,this.x+this.width-this.radius,this.y+this.height),W.lineTo(this.x+this.radius,this.y+this.height),W.quadraticCurveTo(this.x,this.y+this.height,this.x,this.y+this.height-this.radius),W.lineTo(this.x,this.y+this.radius),W.quadraticCurveTo(this.x,this.y,this.x+this.radius,this.y),W.closePath(),W.fill(),this.radius>0?this.radius-=.56:Z.splice(Z.indexOf(this),1)}}]),t}(),et=function(t){Object(u.a)(i,t);var e=Object(c.a)(i);function i(t){var s;return Object(d.a)(this,i),(s=e.call(this,t)).resize=function(){B=$(),q=_(),s.forceUpdate(),s.fullReset()},s.state={grid:[],mouseIsPressed:!1,isDraggingStart:!1,isDraggingFinish:!1},s}return Object(f.a)(i,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"componentDidMount",value:function(){this.setState({grid:st()}),this.createGrid(),window.addEventListener("resize",this.resize),this.algorithm=0}},{key:"createGrid",value:function(){F=document.getElementById("canvas"),W=F.getContext("2d"),F.width=B,F.height=q;for(var t=0;t<F.height;t+=N)for(var e=0;e<F.width;e+=N)this.createPartGrid(e,t),e/N===L&&t/N===E&&(W.fillStyle="Green",this.drawCube(e/N,t/N)),e/N===U&&t/N===Y&&(W.fillStyle="Red",this.drawCube(e/N,t/N));this.drawLine(0,F.height,F.width,F.height),this.drawLine(F.width,0,F.width,F.height),window.requestAnimationFrame(this.draw.bind(this))}},{key:"draw",value:function(t){var e=t-X;if(e<8.333333333333334)window.requestAnimationFrame(this.draw.bind(this));else{X=t;var i,s=Object(o.a)(Z);try{for(s.s();!(i=s.n()).done;){i.value.draw(e)}}catch(a){s.e(a)}finally{s.f()}window.requestAnimationFrame(this.draw.bind(this))}}},{key:"createPartGrid",value:function(t,e){W.strokeStyle="Black",this.drawLine(t,e,t,e+N),this.drawLine(t,e,t+N,e)}},{key:"getCursorPositionInPixels",value:function(t){var e=F.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}},{key:"getCursorPositionInGrid",value:function(t){var e=this.getCursorPositionInPixels(t);return{x:Math.floor(e.x/N),y:Math.floor(e.y/N)}}},{key:"handleMouseDown",value:function(t){if(!this.busy){var e=this.getCursorPositionInGrid(t),i=this.state.grid;i[e.y][e.x].isStart?this.setState({isDraggingStart:!0}):i[e.y][e.x].isFinish&&this.setState({isDraggingFinish:!0}),this.setState({mouseIsPressed:!0}),Q=!0}}},{key:"handleMouseMove",value:function(t){if(!this.busy){var e=this.getCursorPositionInGrid(t);this.state.mouseIsPressed&&(this.state.isDraggingStart?this.moveStartOrFinish(e.x,e.y,!0):this.state.isDraggingFinish?this.moveStartOrFinish(e.x,e.y,!1):this.calculateWall(t),Q=!1)}}},{key:"handleMouseUp",value:function(t){this.busy||(this.setState({mouseIsPressed:!1,isDraggingStart:!1,isDraggingFinish:!1}),!Q||this.state.isDraggingStart||this.state.isDraggingFinish||(K.x++,this.calculateWall(t)))}},{key:"animateAlgorithm",value:function(t,e){var i=this,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.clearVisualization(!0);for(var a=function(a){if(0===a)return"continue";J.push(setTimeout((function(){if(a===t.length-1)i.shortPath(e,s);else{var r=t[a];if("0"===H||s)W.fillStyle="Aqua",i.drawCube(r.col,r.row);else{var n=new D.a;n.setSpectrum("Yellow","Blue","Aqua"),n.setNumberRange(0,.6),Z.push(new tt(r.col*N+1,r.row*N+1,27,27,N/1.5,n))}}}),H*a))},r=0;r<t.length;r++)a(r)}},{key:"shortPath",value:function(t){for(var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=function(s){if(0===s||s===t.length-1)return"continue";J.push(setTimeout((function(){var a=t[s];if("0"===H||i)W.fillStyle="Yellow",e.drawCube(a.col,a.row);else{var r=new D.a;r.setSpectrum("Red","Yellow"),r.setNumberRange(0,.5),Z.push(new tt(a.col*N+1,a.row*N+1,27,27,N/1.5,r))}}),"0"!==H||i?35*s:0)),J.push(setTimeout((function(){e.busy=!1}),"0"!==H||i?35*t.length:0))},a=0;a<t.length;a++)s(a)}},{key:"visualizeDijkstra",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.busy){this.busy=!0;var e=this.state.grid,i=e[E][L],s=e[Y][U],a=v(e,i,s),r=b(s);this.animateAlgorithm(a,r,t)}}},{key:"visualizeGreedyBFS",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.busy){this.busy=!0;var e=this.state.grid,i=e[E][L],s=e[Y][U],a=w(e,i,s),r=O(s);this.animateAlgorithm(a,r,t)}}},{key:"visualize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];0===this.algorithm?this.visualizeDijkstra(t):1===this.algorithm&&this.visualizeGreedyBFS(t)}},{key:"moveStartOrFinish",value:function(t,e,i){var s,a;if(i?(s=L,a=E):(s=U,a=Y),K.x!==t||K.y!==e){if(K={x:t,y:e},W.clearRect(s*N+1,a*N+1,27,27),this.drawStartOrFinish(t,e,i),this.state.grid[a][s].isWall){var r=this.state.grid.slice();r[a][s].isWall=!1,this.setState({grid:r}),this.drawWall(s,a)}i?(L=t,E=e):(U=t,Y=e)}}},{key:"drawStartOrFinish",value:function(t,e,i){var s=this.state.grid.slice(),a=s[e][t];i?(s[E][L]=Object(h.a)(Object(h.a)({},s[E][L]),{},{isStart:!1}),s[e][t]=Object(h.a)(Object(h.a)({},a),{},{isStart:!0}),W.fillStyle="Green"):(s[Y][U]=Object(h.a)(Object(h.a)({},s[Y][U]),{},{isFinish:!1}),s[e][t]=Object(h.a)(Object(h.a)({},a),{},{isFinish:!0}),W.fillStyle="Red"),this.drawCube(t,e),this.setState({grid:s})}},{key:"visualizeMaze",value:function(){var t=this;if(!this.busy){this.resetWalls(),this.clearVisualization();var e=this.state.grid,i=p(e,e[E][L],e[Y][U]);if("0"===H){var s,a=Object(o.a)(i);try{for(a.s();!(s=a.n()).done;){var r=s.value;this.drawWall(r[0],r[1])}}catch(h){a.e(h)}finally{a.f()}}else for(var n=function(e){var s=i[e];J.push(setTimeout((function(){return t.drawWall(s[0],s[1])}),H*e))},l=0;l<i.length;l++)n(l);this.redrawStartAndFinish()}}},{key:"drawLine",value:function(t,e,i,s){W.beginPath(),W.moveTo(t,e),W.lineTo(i,s),W.stroke()}},{key:"drawCube",value:function(t,e){W.beginPath(),W.fillRect(t*N+1,e*N+1,27,27),W.stroke()}},{key:"calculateWall",value:function(t){var e=this.getCursorPositionInGrid(t);this.state.grid[e.y][e.x].isStart||this.state.grid[e.y][e.x].isFinish||K.x===e.x&&K.y===e.y||(K=e,this.drawWall(e.x,e.y))}},{key:"drawWall",value:function(t,e){var i=this.state.grid.slice(),s=Math.round(B/N)-1,a=Math.round(q/N)-1;if(!(t>s||t<0||e>a||e<0)){var r=i[e][t];if(i[e][t]=Object(h.a)(Object(h.a)({},r),{},{isWall:!r.isWall}),i[e][t].isWall)if("0"!==H){var n=new D.a;n.setSpectrum("White","Black"),n.setNumberRange(0,.5),Z.push(new tt(r.col*N+1,r.row*N+1,27,27,N/1.5,n))}else W.fillStyle="Black",this.drawCube(t,e);else W.clearRect(t*N+1,e*N+1,27,27);this.setState({grid:i})}}},{key:"clearVisualization",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||!this.busy){Z=[];for(var e=this.state.grid,i=e.slice(),s=0;s<e.length;s++)for(var a=0;a<e[s].length;a++)e[s][a].isWall||e[s][a].isStart||e[s][a].isFinish||W.clearRect(a*N+1,s*N+1,27,27),i[s][a].isVisited=!1,i[s][a].distance=1/0;this.setState({grid:i})}}},{key:"redrawStartAndFinish",value:function(){W.fillStyle="Green",this.drawCube(L,E),W.fillStyle="Red",this.drawCube(U,Y);var t=this.state.grid.slice();t[E][L].isWall=!1,t[Y][U].isWall=!1,this.setState({grid:t})}},{key:"resetWalls",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||!this.busy){Z=[];for(var e=this.state.grid,i=e.slice(),s=0;s<e.length;s++)for(var a=0;a<e[s].length;a++)e[s][a].isWall&&(i[s][a].isWall=!1,W.clearRect(a*N+1,s*N+1,27,27))}}},{key:"fullReset",value:function(){L=5,E=5,U=20,Y=5,this.busy=!1,Z=[],this.setState({grid:st()}),W.clearRect(0,0,F.width,F.height),this.createGrid();for(var t=0;t<J.length;t++)clearTimeout(J[t]);J=[]}},{key:"render",value:function(){var t=this;return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("div",{children:Object(V.jsxs)(P.a,{variant:"standard",sx:{m:1,minWidth:80},children:[Object(V.jsx)(R.a,{id:"demo-simple-select-label",children:"Speeds"}),Object(V.jsxs)(T.a,{id:"speed",defaultValue:"5",style:{textAlign:"center"},onChange:function(t){H=t.target.value},children:[Object(V.jsx)(A.a,{value:"80",children:"Slow"}),Object(V.jsx)(A.a,{value:"30",children:"Fast"}),Object(V.jsx)(A.a,{value:"15",children:"Faster"}),Object(V.jsx)(A.a,{value:"5",children:"Extra Fast"}),Object(V.jsx)(A.a,{value:"0",children:"Instant"})]})]})}),Object(V.jsxs)("div",{children:[Object(V.jsxs)(P.a,{className:"customSelect",variant:"standard",sx:{m:1,minWidth:80},children:[Object(V.jsx)(R.a,{id:"demo-simple-select-label",children:"Algorithms"}),Object(V.jsxs)(T.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Algorithms",defaultValue:0,onChange:function(e){t.algorithm=e.target.value},children:[Object(V.jsx)(A.a,{value:0,children:"Dijkstra algorithm"}),Object(V.jsx)(A.a,{value:1,children:"Greedy best first search"})]})]}),Object(V.jsxs)(G.a,{variant:"contained",children:[Object(V.jsx)(I.a,{onClick:function(){return t.visualize()},children:"Visualize"}),Object(V.jsx)(I.a,{onClick:function(){return t.fullReset()},children:"Reset"}),Object(V.jsx)(I.a,{onClick:function(){return t.resetWalls()},children:"Clear walls"}),Object(V.jsx)(I.a,{onClick:function(){return t.clearVisualization()},children:"Clear path"})]})]}),Object(V.jsx)(G.a,{variant:"contained",style:{transform:"translateY(-25%)"},children:Object(V.jsx)(I.a,{onClick:function(){return t.visualizeMaze()},children:"Generate maze"})}),Object(V.jsx)("canvas",{id:"canvas",onMouseDown:function(e){return t.handleMouseDown(e)},onMouseMove:function(e){return t.handleMouseMove(e)},onMouseUp:function(e){return t.handleMouseUp(e)}})]})}}]),i}(a.Component),it=function(t,e){return{col:t,row:e,isStart:e===E&&t===L,isFinish:e===Y&&t===U,distance:1/0,isVisited:!1,isWall:!1,prevNode:null}};var st=function(){for(var t=[],e=0;e<q/N;e++){for(var i=[],s=0;s<B/N;s++)i.push(it(s,e));t.push(i)}return t};var at=function(){return Object(V.jsx)("div",{className:"App",children:Object(V.jsx)("header",{className:"App-header",children:Object(V.jsx)(et,{})})})},rt=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,128)).then((function(e){var i=e.getCLS,s=e.getFID,a=e.getFCP,r=e.getLCP,n=e.getTTFB;i(t),s(t),a(t),r(t),n(t)}))};l.a.render(Object(V.jsx)(r.a.StrictMode,{children:Object(V.jsx)(at,{})}),document.getElementById("root")),rt()}},[[85,1,2]]]);
//# sourceMappingURL=main.450f941d.chunk.js.map