(this["webpackJsonpbetter-pathfinding-visualizer"]=this["webpackJsonpbetter-pathfinding-visualizer"]||[]).push([[0],{15:function(t,e,i){},16:function(t,e,i){},17:function(t,e,i){},20:function(t,e,i){"use strict";i.r(e);var n,s=i(3),r=i.n(s),a=i(8),h=i.n(a),o=(i(15),i(16),i(1)),l=i(2),u=i(10),c=i(9),d=i(6),f=i(7);i(17);function v(t,e,i){var n=[];e.distance=0;for(var s=function(t){var e,i=[],n=Object(l.a)(t);try{for(n.s();!(e=n.n()).done;){var s,r=e.value,a=Object(l.a)(r);try{for(a.s();!(s=a.n()).done;){var h=s.value;i.push(h)}}catch(o){a.e(o)}finally{a.f()}}}catch(o){n.e(o)}finally{n.f()}return i}(t);s.length;){g(s);var r=s.shift();if(!r.isWall){if(r.distance===1/0)return n;if(r.isVisited=!0,n.push(r),r.row===i.row&&r.col===i.col)return n;y(r,t)}}}function g(t){t.sort((function(t,e){return t.distance-e.distance}))}function y(t,e){var i,n=function(t,e){var i=[],n=t.col,s=t.row;s>0&&i.push(e[s-1][n]);s<e.length-1&&i.push(e[s+1][n]);n>0&&i.push(e[s][n-1]);n<e[0].length-1&&i.push(e[s][n+1]);return i.filter((function(t){return!t.isVisited}))}(t,e),s=Object(l.a)(n);try{for(s.s();!(i=s.n()).done;){var r=i.value;r.distance=t.distance+1,r.prevNode=t}}catch(a){s.e(a)}finally{s.f()}}function w(t,e,i){if(!e||!i||e===i)return!1;var s=b(t.length),r=b(t[0].length);return n=[],j(s,r,e,i),n}function b(t){for(var e=[],i=0;i<t;i++)e.push(i);return e}function j(t,e,i,n){var s,r;t.length<2||e.length<2||(t.length>e.length&&(s=0,r=x(t)),t.length<=e.length&&(s=1,r=x(e)),0===s?(p(s,r,t,e,i,n),j(t.slice(0,t.indexOf(r)),e,i,n),j(t.slice(t.indexOf(r)+1),e,i,n)):(p(s,r,t,e,i,n),j(t,e.slice(0,e.indexOf(r)),i,n),j(t,e.slice(e.indexOf(r)+1),i,n)))}function x(t){var e=t.length-1,i=Math.floor(Math.random()*(e/2))+Math.floor(Math.random()*(e/2));return i%2===0&&(i===e?i-=1:i+=1),t[i]}function p(t,e,i,s,r,a){var h=!1,o=[];if(0===t){if(2===s.length)return;var u,c=Object(l.a)(s);try{for(c.s();!(u=c.n()).done;){var d=u.value;d===r.row&&e===r.col||e===a.row&&d===a.col?h=!0:o.push([d,e])}}catch(j){c.e(j)}finally{c.f()}}else{if(2===i.length)return;var f,v=Object(l.a)(i);try{for(v.s();!(f=v.n()).done;){var g=f.value;e===r.row&&g===r.col||g===a.row&&e===a.col?h=!0:o.push([e,g])}}catch(j){v.e(j)}finally{v.f()}}h||o.splice(function(t){var e=Math.floor(Math.random()*(t/2))+Math.floor(Math.random()*(t/2));e%2!==0&&(e===t?e-=1:e+=1);return e}(o.length),1);for(var y=0,w=o;y<w.length;y++){var b=w[y];n.push(b)}}i(18);var m,O,k=i(4),S=i.n(k),C=i(0),M=29,F=A(),P=L(),W=5,z=5,D=20,R=5,I=[],T=0,G=0,B={x:0,y:0},V=!1,q=[];function A(){for(var t=0,e=0;t%2===0;)t=Math.floor(window.innerWidth/M)-e,e++;return t*M}function L(){for(var t=0,e=0;t%2===0;)t=Math.floor(.85*window.innerHeight/M)-e,e++;return t*M}var N=function(){function t(e,i,n,s,r,a){Object(d.a)(this,t),this.x=e,this.y=i,this.width=n,this.height=s,this.radius=r,this.color="Black",this.time=0,this.gradient=a}return Object(f.a)(t,[{key:"draw",value:function(t){this.time+=t,this.frame=Math.floor(this.time)/847,O.clearRect(this.x,this.y,this.width,this.height),O.fillStyle="#"+this.gradient.colourAt(this.frame),O.beginPath(),O.moveTo(this.x+this.radius,this.y),O.lineTo(this.x+this.width-this.radius,this.y),O.quadraticCurveTo(this.x+this.width,this.y,this.x+this.width,this.y+this.radius),O.lineTo(this.x+this.width,this.y+this.height-this.radius),O.quadraticCurveTo(this.x+this.width,this.y+this.height,this.x+this.width-this.radius,this.y+this.height),O.lineTo(this.x+this.radius,this.y+this.height),O.quadraticCurveTo(this.x,this.y+this.height,this.x,this.y+this.height-this.radius),O.lineTo(this.x,this.y+this.radius),O.quadraticCurveTo(this.x,this.y,this.x+this.radius,this.y),O.closePath(),O.fill(),this.radius>0?this.radius-=.56:q.splice(q.indexOf(this),1)}}]),t}(),E=function(t){Object(u.a)(i,t);var e=Object(c.a)(i);function i(t){var n;return Object(d.a)(this,i),(n=e.call(this,t)).resize=function(){F=A(),P=L(),n.forceUpdate(),n.fullReset()},n.state={grid:[],mouseIsPressed:!1,isDraggingStart:!1,isDraggingFinish:!1},n}return Object(f.a)(i,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"componentDidMount",value:function(){this.setState({grid:Y()}),this.createGrid(),window.addEventListener("resize",this.resize)}},{key:"createGrid",value:function(){m=document.getElementById("canvas"),O=m.getContext("2d"),m.width=F,m.height=P;for(var t=0;t<m.height;t+=M)for(var e=0;e<m.width;e+=M)this.createPartGrid(e,t),e/M===W&&t/M===z&&(O.fillStyle="Green",this.drawCube(e/M,t/M)),e/M===D&&t/M===R&&(O.fillStyle="Red",this.drawCube(e/M,t/M));this.drawLine(0,m.height,m.width,m.height),this.drawLine(m.width,0,m.width,m.height),window.requestAnimationFrame(this.draw.bind(this))}},{key:"draw",value:function(t){var e=t-G;if(e<8.333333333333334)window.requestAnimationFrame(this.draw.bind(this));else{G=t;var i,n=Object(l.a)(q);try{for(n.s();!(i=n.n()).done;){i.value.draw(e)}}catch(s){n.e(s)}finally{n.f()}window.requestAnimationFrame(this.draw.bind(this))}}},{key:"createPartGrid",value:function(t,e){O.strokeStyle="Black",this.drawLine(t,e,t,e+M),this.drawLine(t,e,t+M,e)}},{key:"getCursorPositionInPixels",value:function(t){var e=m.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}},{key:"getCursorPositionInGrid",value:function(t){var e=this.getCursorPositionInPixels(t);return{x:Math.floor(e.x/M),y:Math.floor(e.y/M)}}},{key:"handleMouseDown",value:function(t){if(!this.busy){var e=this.getCursorPositionInGrid(t),i=this.state.grid;i[e.y][e.x].isStart?this.setState({isDraggingStart:!0}):i[e.y][e.x].isFinish&&this.setState({isDraggingFinish:!0}),this.setState({mouseIsPressed:!0}),V=!0}}},{key:"handleMouseMove",value:function(t){if(!this.busy&&this.state.mouseIsPressed){if(this.state.isDraggingStart){var e=this.getCursorPositionInGrid(t);this.moveStart(e.x,e.y)}else if(this.state.isDraggingFinish){var i=this.getCursorPositionInGrid(t);this.moveFinish(i.x,i.y)}else this.calculateWall(t);V=!1}}},{key:"handleMouseUp",value:function(t){this.busy||(this.setState({mouseIsPressed:!1,isDraggingStart:!1,isDraggingFinish:!1}),!V||this.state.isDraggingStart||this.state.isDraggingFinish||(B.x++,this.calculateWall(t)))}},{key:"animateDijkstra",value:function(t,e){var i=this;this.clearVisualization(!0);for(var n=function(n){if(0===n)return"continue";I.push(setTimeout((function(){if(n===t.length-1)i.shortPath(e);else{var s=t[n];if("0"!==T){var r=new S.a;r.setSpectrum("Yellow","Blue","Aqua"),r.setNumberRange(0,.6),q.push(new N(s.col*M+1,s.row*M+1,27,27,M/1.5,r))}else O.fillStyle="Aqua",i.drawCube(s.col,s.row)}}),T*n))},s=0;s<t.length;s++)n(s)}},{key:"shortPath",value:function(t){for(var e=this,i=function(i){if(0===i||i===t.length-1)return"continue";I.push(setTimeout((function(){var n=t[i];if("0"!==T){var s=new S.a;s.setSpectrum("Red","Yellow"),s.setNumberRange(0,.5),q.push(new N(n.col*M+1,n.row*M+1,27,27,M/1.5,s))}else O.fillStyle="Yellow",e.drawCube(n.col,n.row)}),"0"!==T?35*i:0)),I.push(setTimeout((function(){e.busy=!1}),"0"!==T?35*t.length:0))},n=0;n<t.length;n++)i(n)}},{key:"visualizeDijkstra",value:function(){if(!this.busy){this.busy=!0;var t=this.state.grid,e=t[z][W],i=t[R][D],n=v(t,e,i),s=function(t){for(var e=[],i=t;null!==i;)e.unshift(i),i=i.prevNode;return e}(i);this.animateDijkstra(n,s)}}},{key:"moveStart",value:function(t,e){O.clearRect(W*M+1,z*M+1,27,27),this.drawStartOrFinish(t,e,!0),W=t,z=e}},{key:"moveFinish",value:function(t,e){O.clearRect(D*M+1,R*M+1,27,27),this.drawStartOrFinish(t,e,!1),D=t,R=e}},{key:"drawStartOrFinish",value:function(t,e,i){var n=this.state.grid.slice(),s=n[e][t];i?(n[z][W]=Object(o.a)(Object(o.a)({},n[z][W]),{},{isStart:!1}),n[e][t]=Object(o.a)(Object(o.a)({},s),{},{isStart:!0}),O.fillStyle="Green"):(n[R][D]=Object(o.a)(Object(o.a)({},n[R][D]),{},{isFinish:!1}),n[e][t]=Object(o.a)(Object(o.a)({},s),{},{isFinish:!0}),O.fillStyle="Red"),this.drawCube(t,e),this.setState({grid:n})}},{key:"visualizeMaze",value:function(){var t=this;if(!this.busy){this.resetWalls(),this.clearVisualization();var e=this.state.grid,i=w(e,e[z][W],e[R][D]);if("0"===T){var n,s=Object(l.a)(i);try{for(s.s();!(n=s.n()).done;){var r=n.value;this.drawWall(r[0],r[1])}}catch(o){s.e(o)}finally{s.f()}}else for(var a=function(e){var n=i[e];I.push(setTimeout((function(){return t.drawWall(n[0],n[1])}),T*e))},h=0;h<i.length;h++)a(h)}}},{key:"drawLine",value:function(t,e,i,n){O.beginPath(),O.moveTo(t,e),O.lineTo(i,n),O.stroke()}},{key:"drawCube",value:function(t,e){O.beginPath(),O.fillRect(t*M+1,e*M+1,27,27),O.stroke()}},{key:"calculateWall",value:function(t){var e=this.getCursorPositionInGrid(t);this.state.grid[e.y][e.x].isStart||this.state.grid[e.y][e.x].isFinish||B.x===e.x&&B.y===e.y||(B=e,this.drawWall(e.x,e.y))}},{key:"drawWall",value:function(t,e){var i=this.state.grid.slice(),n=Math.round(F/M)-1,s=Math.round(P/M)-1;if(!(t>n||t<0||e>s||e<0)){var r=i[e][t];if(i[e][t]=Object(o.a)(Object(o.a)({},r),{},{isWall:!r.isWall}),i[e][t].isWall)if("0"!==T){var a=new S.a;a.setSpectrum("White","Black"),a.setNumberRange(0,.5),q.push(new N(r.col*M+1,r.row*M+1,27,27,M/1.5,a))}else O.fillStyle="Black",this.drawCube(t,e);else O.clearRect(t*M+1,e*M+1,27,27);this.setState({grid:i})}}},{key:"showStart",value:function(){for(var t=this.state.grid,e=0;e<t.length;e++)for(var i=0;i<t[e].length;i++)t[e][i].isStart&&console.log("Start is at x:"+i+" y:"+e)}},{key:"clearVisualization",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||!this.busy){q=[];for(var e=this.state.grid,i=e.slice(),n=0;n<e.length;n++)for(var s=0;s<e[n].length;s++)e[n][s].isWall||e[n][s].isStart||e[n][s].isFinish||O.clearRect(s*M+1,n*M+1,27,27),i[n][s].isVisited=!1,i[n][s].distance=1/0;this.setState({grid:i})}}},{key:"resetWalls",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||!this.busy){q=[];for(var e=this.state.grid,i=e.slice(),n=0;n<e.length;n++)for(var s=0;s<e[n].length;s++)e[n][s].isWall&&(i[n][s].isWall=!1,O.clearRect(s*M+1,n*M+1,27,27))}}},{key:"fullReset",value:function(){W=5,z=5,D=20,R=5,this.busy=!1,q=[],this.setState({grid:Y()}),O.clearRect(0,0,m.width,m.height),this.createGrid();for(var t=0;t<I.length;t++)clearTimeout(I[t]);I=[]}},{key:"render",value:function(){var t=this;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{children:Object(C.jsxs)("select",{id:"speed",defaultValue:"0",style:{textAlign:"center"},onChange:function(){var t=document.getElementById("speed");T=t.options[t.selectedIndex].value,console.log(t.options[t.selectedIndex].value)},children:[Object(C.jsx)("option",{value:"80",children:"Slow"}),Object(C.jsx)("option",{value:"30",children:"Fast"}),Object(C.jsx)("option",{value:"15",children:"Faster"}),Object(C.jsx)("option",{value:"5",children:"Extra Fast"}),Object(C.jsx)("option",{value:"0",children:"Instant"})]})}),Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{onClick:function(){return t.visualizeDijkstra()},children:"Visualize"}),Object(C.jsx)("button",{onClick:function(){return t.fullReset()},children:"Reset"}),Object(C.jsx)("button",{onClick:function(){return t.resetWalls()},children:"Clear walls"}),Object(C.jsx)("button",{onClick:function(){return t.showStart()},children:"Start"}),Object(C.jsx)("button",{onClick:function(){return t.clearVisualization()},children:"Clear path"})]}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{onClick:function(){return t.visualizeMaze()},children:"Generate maze"})}),Object(C.jsx)("canvas",{id:"canvas",onMouseDown:function(e){return t.handleMouseDown(e)},onMouseMove:function(e){return t.handleMouseMove(e)},onMouseUp:function(e){return t.handleMouseUp(e)}})]})}}]),i}(s.Component),U=function(t,e){return{col:t,row:e,isStart:e===z&&t===W,isFinish:e===R&&t===D,distance:1/0,isVisited:!1,isWall:!1,prevNode:null}};var Y=function(){for(var t=[],e=0;e<P/M;e++){for(var i=[],n=0;n<F/M;n++)i.push(U(n,e));t.push(i)}return t};var J=function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)("header",{className:"App-header",children:Object(C.jsx)(E,{})})})},H=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,21)).then((function(e){var i=e.getCLS,n=e.getFID,s=e.getFCP,r=e.getLCP,a=e.getTTFB;i(t),n(t),s(t),r(t),a(t)}))};h.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(J,{})}),document.getElementById("root")),H()}},[[20,1,2]]]);
//# sourceMappingURL=main.367a2a34.chunk.js.map