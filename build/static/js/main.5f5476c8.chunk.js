(this["webpackJsonpbetter-pathfinding-visualizer"]=this["webpackJsonpbetter-pathfinding-visualizer"]||[]).push([[0],{75:function(t,e,i){},76:function(t,e,i){},77:function(t,e,i){},85:function(t,e,i){"use strict";i.r(e);var s,a=i(0),n=i.n(a),r=i(29),l=i.n(r),h=(i(75),i(76),i(20)),o=i(23),u=i(63),c=i(61),d=i(38),f=i(39);i(77);function v(t,e,i){var s=[];e.distance=0;for(var a=function(t){var e,i=[],s=Object(o.a)(t);try{for(s.s();!(e=s.n()).done;){var a,n=e.value,r=Object(o.a)(n);try{for(r.s();!(a=r.n()).done;){var l=a.value;i.push(l)}}catch(h){r.e(h)}finally{r.f()}}}catch(h){s.e(h)}finally{s.f()}return i}(t);a.length;){g(a);var n=a.shift();if(!n.isWall){if(n.distance===1/0)return s;if(n.isVisited=!0,s.push(n),n.row===i.row&&n.col===i.col)return s;y(n,t)}}}function g(t){t.sort((function(t,e){return t.distance-e.distance}))}function y(t,e){var i,s=function(t,e){var i=[],s=t.col,a=t.row;a>0&&i.push(e[a-1][s]);a<e.length-1&&i.push(e[a+1][s]);s>0&&i.push(e[a][s-1]);s<e[0].length-1&&i.push(e[a][s+1]);return i.filter((function(t){return!t.isVisited}))}(t,e),a=Object(o.a)(s);try{for(a.s();!(i=a.n()).done;){var n=i.value;n.distance=t.distance+1,n.prevNode=t}}catch(r){a.e(r)}finally{a.f()}}function b(t,e,i){if(!e||!i||e===i)return!1;var a=j(t.length),n=j(t[0].length);return s=[],w(a,n,e,i),s}function j(t){for(var e=[],i=0;i<t;i++)e.push(i);return e}function w(t,e,i,s){var a,n;t.length<2||e.length<2||(t.length>e.length&&(a=0,n=x(t)),t.length<=e.length&&(a=1,n=x(e)),0===a?(m(a,n,t,e,i,s),w(t.slice(0,t.indexOf(n)),e,i,s),w(t.slice(t.indexOf(n)+1),e,i,s)):(m(a,n,t,e,i,s),w(t,e.slice(0,e.indexOf(n)),i,s),w(t,e.slice(e.indexOf(n)+1),i,s)))}function x(t){var e=t.length-1,i=Math.floor(Math.random()*(e/2))+Math.floor(Math.random()*(e/2));return i%2===0&&(i===e?i-=1:i+=1),t[i]}function m(t,e,i,a,n,r){var l=!1,h=[];if(0===t){if(2===a.length)return;var u,c=Object(o.a)(a);try{for(c.s();!(u=c.n()).done;){var d=u.value;d===n.row&&e===n.col||e===r.row&&d===r.col?l=!0:h.push([d,e])}}catch(w){c.e(w)}finally{c.f()}}else{if(2===i.length)return;var f,v=Object(o.a)(i);try{for(v.s();!(f=v.n()).done;){var g=f.value;e===n.row&&g===n.col||g===r.row&&e===r.col?l=!0:h.push([e,g])}}catch(w){v.e(w)}finally{v.f()}}l||h.splice(function(t){var e=Math.floor(Math.random()*(t/2))+Math.floor(Math.random()*(t/2));e%2!==0&&(e===t?e-=1:e+=1);return e}(h.length),1);for(var y=0,b=h;y<b.length;y++){var j=b[y];s.push(j)}}i(78);var O,p,k=i(45),S=i.n(k),C=i(123),M=i(124),F=i(120),P=i(122),W=i(126),D=i(127),z=i(2),R=29,T=J(),I=H(),G=5,A=5,V=20,q=5,B=[],L=0,N=0,E={x:0,y:0},U=!1,Y=[];function J(){for(var t=0,e=0;t%2===0;)t=Math.floor(window.innerWidth/R)-e,e++;return t*R}function H(){for(var t=0,e=0;t%2===0;)t=Math.floor(.85*window.innerHeight/R)-e,e++;return t*R}var X=function(){function t(e,i,s,a,n,r){Object(d.a)(this,t),this.x=e,this.y=i,this.width=s,this.height=a,this.radius=n,this.color="Black",this.time=0,this.gradient=r}return Object(f.a)(t,[{key:"draw",value:function(t){this.time+=t,this.frame=Math.floor(this.time)/847,p.clearRect(this.x,this.y,this.width,this.height),p.fillStyle="#"+this.gradient.colourAt(this.frame),p.beginPath(),p.moveTo(this.x+this.radius,this.y),p.lineTo(this.x+this.width-this.radius,this.y),p.quadraticCurveTo(this.x+this.width,this.y,this.x+this.width,this.y+this.radius),p.lineTo(this.x+this.width,this.y+this.height-this.radius),p.quadraticCurveTo(this.x+this.width,this.y+this.height,this.x+this.width-this.radius,this.y+this.height),p.lineTo(this.x+this.radius,this.y+this.height),p.quadraticCurveTo(this.x,this.y+this.height,this.x,this.y+this.height-this.radius),p.lineTo(this.x,this.y+this.radius),p.quadraticCurveTo(this.x,this.y,this.x+this.radius,this.y),p.closePath(),p.fill(),this.radius>0?this.radius-=.56:Y.splice(Y.indexOf(this),1)}}]),t}(),K=function(t){Object(u.a)(i,t);var e=Object(c.a)(i);function i(t){var s;return Object(d.a)(this,i),(s=e.call(this,t)).resize=function(){T=J(),I=H(),s.forceUpdate(),s.fullReset()},s.state={grid:[],mouseIsPressed:!1,isDraggingStart:!1,isDraggingFinish:!1},s}return Object(f.a)(i,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"componentDidMount",value:function(){this.setState({grid:Z()}),this.createGrid(),window.addEventListener("resize",this.resize)}},{key:"createGrid",value:function(){O=document.getElementById("canvas"),p=O.getContext("2d"),O.width=T,O.height=I;for(var t=0;t<O.height;t+=R)for(var e=0;e<O.width;e+=R)this.createPartGrid(e,t),e/R===G&&t/R===A&&(p.fillStyle="Green",this.drawCube(e/R,t/R)),e/R===V&&t/R===q&&(p.fillStyle="Red",this.drawCube(e/R,t/R));this.drawLine(0,O.height,O.width,O.height),this.drawLine(O.width,0,O.width,O.height),window.requestAnimationFrame(this.draw.bind(this))}},{key:"draw",value:function(t){var e=t-N;if(e<8.333333333333334)window.requestAnimationFrame(this.draw.bind(this));else{N=t;var i,s=Object(o.a)(Y);try{for(s.s();!(i=s.n()).done;){i.value.draw(e)}}catch(a){s.e(a)}finally{s.f()}window.requestAnimationFrame(this.draw.bind(this))}}},{key:"createPartGrid",value:function(t,e){p.strokeStyle="Black",this.drawLine(t,e,t,e+R),this.drawLine(t,e,t+R,e)}},{key:"getCursorPositionInPixels",value:function(t){var e=O.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}},{key:"getCursorPositionInGrid",value:function(t){var e=this.getCursorPositionInPixels(t);return{x:Math.floor(e.x/R),y:Math.floor(e.y/R)}}},{key:"handleMouseDown",value:function(t){if(!this.busy){var e=this.getCursorPositionInGrid(t),i=this.state.grid;i[e.y][e.x].isStart?this.setState({isDraggingStart:!0}):i[e.y][e.x].isFinish&&this.setState({isDraggingFinish:!0}),this.setState({mouseIsPressed:!0}),U=!0}}},{key:"handleMouseMove",value:function(t){if(!this.busy&&this.state.mouseIsPressed){if(this.state.isDraggingStart){var e=this.getCursorPositionInGrid(t);this.moveStart(e.x,e.y)}else if(this.state.isDraggingFinish){var i=this.getCursorPositionInGrid(t);this.moveFinish(i.x,i.y)}else this.calculateWall(t);U=!1}}},{key:"handleMouseUp",value:function(t){this.busy||(this.setState({mouseIsPressed:!1,isDraggingStart:!1,isDraggingFinish:!1}),!U||this.state.isDraggingStart||this.state.isDraggingFinish||(E.x++,this.calculateWall(t)))}},{key:"animateDijkstra",value:function(t,e){var i=this;this.clearVisualization(!0);for(var s=function(s){if(0===s)return"continue";B.push(setTimeout((function(){if(s===t.length-1)i.shortPath(e);else{var a=t[s];if("0"!==L){var n=new S.a;n.setSpectrum("Yellow","Blue","Aqua"),n.setNumberRange(0,.6),Y.push(new X(a.col*R+1,a.row*R+1,27,27,R/1.5,n))}else p.fillStyle="Aqua",i.drawCube(a.col,a.row)}}),L*s))},a=0;a<t.length;a++)s(a)}},{key:"shortPath",value:function(t){for(var e=this,i=function(i){if(0===i||i===t.length-1)return"continue";B.push(setTimeout((function(){var s=t[i];if("0"!==L){var a=new S.a;a.setSpectrum("Red","Yellow"),a.setNumberRange(0,.5),Y.push(new X(s.col*R+1,s.row*R+1,27,27,R/1.5,a))}else p.fillStyle="Yellow",e.drawCube(s.col,s.row)}),"0"!==L?35*i:0)),B.push(setTimeout((function(){e.busy=!1}),"0"!==L?35*t.length:0))},s=0;s<t.length;s++)i(s)}},{key:"visualizeDijkstra",value:function(){if(!this.busy){this.busy=!0;var t=this.state.grid,e=t[A][G],i=t[q][V],s=v(t,e,i),a=function(t){for(var e=[],i=t;null!==i;)e.unshift(i),i=i.prevNode;return e}(i);this.animateDijkstra(s,a)}}},{key:"moveStart",value:function(t,e){p.clearRect(G*R+1,A*R+1,27,27),this.drawStartOrFinish(t,e,!0),G=t,A=e}},{key:"moveFinish",value:function(t,e){p.clearRect(V*R+1,q*R+1,27,27),this.drawStartOrFinish(t,e,!1),V=t,q=e}},{key:"drawStartOrFinish",value:function(t,e,i){var s=this.state.grid.slice(),a=s[e][t];i?(s[A][G]=Object(h.a)(Object(h.a)({},s[A][G]),{},{isStart:!1}),s[e][t]=Object(h.a)(Object(h.a)({},a),{},{isStart:!0}),p.fillStyle="Green"):(s[q][V]=Object(h.a)(Object(h.a)({},s[q][V]),{},{isFinish:!1}),s[e][t]=Object(h.a)(Object(h.a)({},a),{},{isFinish:!0}),p.fillStyle="Red"),this.drawCube(t,e),this.setState({grid:s})}},{key:"visualizeMaze",value:function(){var t=this;if(!this.busy){this.resetWalls(),this.clearVisualization();var e=this.state.grid,i=b(e,e[A][G],e[q][V]);if("0"===L){var s,a=Object(o.a)(i);try{for(a.s();!(s=a.n()).done;){var n=s.value;this.drawWall(n[0],n[1])}}catch(h){a.e(h)}finally{a.f()}}else for(var r=function(e){var s=i[e];B.push(setTimeout((function(){return t.drawWall(s[0],s[1])}),L*e))},l=0;l<i.length;l++)r(l)}}},{key:"drawLine",value:function(t,e,i,s){p.beginPath(),p.moveTo(t,e),p.lineTo(i,s),p.stroke()}},{key:"drawCube",value:function(t,e){p.beginPath(),p.fillRect(t*R+1,e*R+1,27,27),p.stroke()}},{key:"calculateWall",value:function(t){var e=this.getCursorPositionInGrid(t);this.state.grid[e.y][e.x].isStart||this.state.grid[e.y][e.x].isFinish||E.x===e.x&&E.y===e.y||(E=e,this.drawWall(e.x,e.y))}},{key:"drawWall",value:function(t,e){var i=this.state.grid.slice(),s=Math.round(T/R)-1,a=Math.round(I/R)-1;if(!(t>s||t<0||e>a||e<0)){var n=i[e][t];if(i[e][t]=Object(h.a)(Object(h.a)({},n),{},{isWall:!n.isWall}),i[e][t].isWall)if("0"!==L){var r=new S.a;r.setSpectrum("White","Black"),r.setNumberRange(0,.5),Y.push(new X(n.col*R+1,n.row*R+1,27,27,R/1.5,r))}else p.fillStyle="Black",this.drawCube(t,e);else p.clearRect(t*R+1,e*R+1,27,27);this.setState({grid:i})}}},{key:"showStart",value:function(){for(var t=this.state.grid,e=0;e<t.length;e++)for(var i=0;i<t[e].length;i++)t[e][i].isStart&&console.log("Start is at x:"+i+" y:"+e)}},{key:"clearVisualization",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||!this.busy){Y=[];for(var e=this.state.grid,i=e.slice(),s=0;s<e.length;s++)for(var a=0;a<e[s].length;a++)e[s][a].isWall||e[s][a].isStart||e[s][a].isFinish||p.clearRect(a*R+1,s*R+1,27,27),i[s][a].isVisited=!1,i[s][a].distance=1/0;this.setState({grid:i})}}},{key:"resetWalls",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||!this.busy){Y=[];for(var e=this.state.grid,i=e.slice(),s=0;s<e.length;s++)for(var a=0;a<e[s].length;a++)e[s][a].isWall&&(i[s][a].isWall=!1,p.clearRect(a*R+1,s*R+1,27,27))}}},{key:"fullReset",value:function(){G=5,A=5,V=20,q=5,this.busy=!1,Y=[],this.setState({grid:Z()}),p.clearRect(0,0,O.width,O.height),this.createGrid();for(var t=0;t<B.length;t++)clearTimeout(B[t]);B=[]}},{key:"render",value:function(){var t=this;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{children:Object(z.jsxs)(C.a,{variant:"standard",sx:{m:1,minWidth:80},children:[Object(z.jsx)(M.a,{id:"demo-simple-select-label",children:"Speeds"}),Object(z.jsxs)(F.a,{id:"speed",defaultValue:"0",style:{textAlign:"center"},onChange:function(t){L=t.target.value,console.log(t.target.value)},children:[Object(z.jsx)(P.a,{value:"80",children:"Slow"}),Object(z.jsx)(P.a,{value:"30",children:"Fast"}),Object(z.jsx)(P.a,{value:"15",children:"Faster"}),Object(z.jsx)(P.a,{value:"5",children:"Extra Fast"}),Object(z.jsx)(P.a,{value:"0",children:"Instant"})]})]})}),Object(z.jsxs)("div",{children:[Object(z.jsxs)(C.a,{className:"customSelect",variant:"standard",sx:{m:1,minWidth:80},children:[Object(z.jsx)(M.a,{id:"demo-simple-select-label",children:"Algorithms"}),Object(z.jsxs)(F.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Algorithms",defaultValue:0,children:[Object(z.jsx)(P.a,{value:0,children:"Dijkstra algorithm"}),Object(z.jsx)(P.a,{value:1,children:"C* algorithm"})]})]}),Object(z.jsxs)(W.a,{variant:"contained",children:[Object(z.jsx)(D.a,{onClick:function(){return t.visualizeDijkstra()},children:"Visualize"}),Object(z.jsx)(D.a,{onClick:function(){return t.fullReset()},children:"Reset"}),Object(z.jsx)(D.a,{onClick:function(){return t.resetWalls()},children:"Clear walls"}),Object(z.jsx)(D.a,{onClick:function(){return t.showStart()},children:"Start"}),Object(z.jsx)(D.a,{onClick:function(){return t.clearVisualization()},children:"Clear path"})]})]}),Object(z.jsx)(W.a,{variant:"contained",style:{transform:"translateY(-25%)"},children:Object(z.jsx)(D.a,{onClick:function(){return t.visualizeMaze()},children:"Generate maze"})}),Object(z.jsx)("canvas",{id:"canvas",onMouseDown:function(e){return t.handleMouseDown(e)},onMouseMove:function(e){return t.handleMouseMove(e)},onMouseUp:function(e){return t.handleMouseUp(e)}})]})}}]),i}(a.Component),Q=function(t,e){return{col:t,row:e,isStart:e===A&&t===G,isFinish:e===q&&t===V,distance:1/0,isVisited:!1,isWall:!1,prevNode:null}};var Z=function(){for(var t=[],e=0;e<I/R;e++){for(var i=[],s=0;s<T/R;s++)i.push(Q(s,e));t.push(i)}return t};var $=function(){return Object(z.jsx)("div",{className:"App",children:Object(z.jsx)("header",{className:"App-header",children:Object(z.jsx)(K,{})})})},_=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,128)).then((function(e){var i=e.getCLS,s=e.getFID,a=e.getFCP,n=e.getLCP,r=e.getTTFB;i(t),s(t),a(t),n(t),r(t)}))};l.a.render(Object(z.jsx)(n.a.StrictMode,{children:Object(z.jsx)($,{})}),document.getElementById("root")),_()}},[[85,1,2]]]);
//# sourceMappingURL=main.5f5476c8.chunk.js.map